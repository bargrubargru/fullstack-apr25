!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports={getCookie:e=>{e+="=";const t=document.cookie.split(";");for(let n=0;n<t.length;n++){const o=t[n].trim();if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null},setCookie:(e,t,n,o,i)=>{const a=new Date;a.setTime(a.getTime()+n);const c="expires="+a.toGMTString();document.cookie=e+"="+t+";"+c+(o?"; domain="+o:"")+(i?"; path="+i:"")},deleteCookie:(e,t,n)=>{document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:"")}}},function(e,t){e.exports={generateClickId:()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<10;n++){const n=Math.floor(Math.random()*e.length);t+=e.charAt(n)}return t}}},function(e,t,n){e.exports=n(3)},function(e,t,n){window.domoBundle=((e,t,o,i,a,c,r)=>{const{commonMap:d,pageViewMap:l,playMap:s,appIdsMap:_}=n(4),{getCookie:p,deleteCookie:m}=n(0),u=n(5),{handleAdEnded:g,getPageAdsState:f,getRandomNumber:h}=n(7);let k=null,w={},y=!1;const v=[],b=window.location.search,S=new URLSearchParams(b);let I=!1;["/statisticsCall.html","/statistics.html","/metricsCall.html","/playStatsObject.html"].some(e=>location.pathname.includes(e))&&(I=!0);const C=(e,n)=>{let p,m={};r={},a={},i={},c={};const u=S.get("utm_campaign"),g=S.get("utm_medium");"Push_Notification"===u?n?n.push_id=g:S.append("push_id",g):"Push_Notification"===g&&(n?n.push_id=u:S.append("push_id",u)),p=n?Object.entries(n):S.entries();let h=localStorage.getItem("app_domo")||"{}";h=JSON.parse(h);const k=Object.entries(h);t.app_id=_.get(x());for(const e of k)e[1]&&(t[e[0]]=e[1]);"play"===e&&(t.content_type="video");for(const n of p)if((n[1]||0===n[1])&&n[1].toString().length){const _=d.get(n[0]);if(_)(_.includes("app_")||_.includes("device_"))&&(m[_]=n[1]),t[_]="channel_depth"===_?parseInt(n[1]):n[1];else switch(e){case"play":const e=s.get(n[0]);if(e&&(i[e]=n[1],"video_url"===e)){const t=n[1].split("?");t[1]&&(i[e]=t[0],i.video_url_token=t[1])}break;case"outbrain":a[n[0]]=n[1];break;case"click":c[n[0]]=n[1];break;case"ads":r[n[0]]=n[1];break;default:const t=l.get(n[0]);t&&(o[t]=n[1])}}Object.keys(m).length>0&&localStorage.setItem("app_domo",JSON.stringify(m));const y=localStorage.getItem("legacy_user_id");if(y&&(t.legacy_user_id=y),!I){const n=localStorage.getItem("permutive-id");let i=localStorage.getItem("_pdfps");const a=localStorage.getItem("mako_tv_login_AI");let c=localStorage.getItem("mako_tv_subscription");if(n&&(t.idx_user_id=n),i&&(i=JSON.parse(i),t.idx_user_segments=i.join("_")),a&&(t.account_id=a),c&&(c=JSON.parse(c),c&&c.transaction&&c.transaction.length&&(c=c.transaction[0],c.productId&&(t.product_id=c.productId),c.expirationDate&&(t.sub_expiration_date=c.expirationDate))),"page_view"===e){const e=T(S);e&&(o.click_id=e),o.is_commercial=window.isCM8?1:0,o.is_interstitial=window.isCM8?document.querySelectorAll("#maavaron-container,#maavaron-dfp").length:0,o.page_components_state=f(w.domoAds)}}},M=async(n,d)=>{switch(e.common.append(t),n){case"play":await e.send("play",i);break;case"outbrain":await e.send("outbrain",a);break;case"click":await e.send("click",c),d.clickCallback&&d.clickCallback();break;case"ads":const t=w.domoAds;r.sub_type=t&&t[r.sub_type]?t[r.sub_type].sub_type:"unknown",e.send("ads",r);break;default:await e.send("page_view",o)}},O=()=>{let e="mako",t=location.hostname;return window.location.ancestorOrigins?t=window.location.ancestorOrigins[0]:"function"!=typeof MAKO_SETTINGS&&(t=document.referrer),t||(t=location.hostname),t.includes("n12")&&(e="n12"),e},x=()=>"function"==typeof MAKO_SETTINGS&&location.pathname.includes("/news")?"n12":O(),T=e=>{let t=e.get("click_id");if(t){const e=new URL(window.location.href);e.searchParams.delete("click_id"),window.history.replaceState(null,null,e)}else t=p("click_id"),m("click_id","/","."+O()+".co.il");return t},A=async()=>{try{const e=await fetch("//www.mako.co.il/AjaxPage?jspName=getDomoExternalEvents.jsp&platform=responsive&appId="+x());return await e.json()}catch(e){return{}}};return{init:async(t,n)=>{if(t||(t="page_view"),!y){y=!0;const t=O();I||(w=await A()),k=await e.init(t)}if(k){k[t]&&(C(t,n),M(t,n));for(let e of v)if(k[e.name]){const t=h(10,1e3),n=setTimeout(()=>{C(e.name,e.data),M(e.name,e.data),clearTimeout(n)},t)}v.length=0}else v.push({name:t,data:n})},getDomain:O,handleClick:u,handleAdEnded:g}})(window.domo,{},{},{},{},{},{})},function(e,t){const n=new Map([["event_name","event_name"],["mako_device_model","device_model"],["mako_os_type","device_os"],["mako_os_version","device_os_version"],["mako_app_id","app_id"],["mako_app_version","app_version"],["mako_experiment","experiment_id"],["vcmId","item_id"],["videoID","item_id"],["item_id","item_id"],["channelId","channel_id"],["channel_id","channel_id"],["contentType","content_type"],["content_type","content_type"],["landing","visit_first_event"],["UserCookieId","legacy_user_id"],["channel_depth","channel_depth"]]),o=new Map([["parentURL","page_url"],["mako_idx_true_url","page_url"],["page_url","page_url"],["mako_true_url_","page_url"],["mako_ExternalProjectID","external_project_id"],["mako_advertising_id","advertising_id"],["referrer","referrer_url"],["ref","referrer_url"],["push_id","push_id"],["mako_np_fontSize","page_font_size"],["mako_np_topicname","topic_name"],["Chat_MesssageID","chat_messsage_id"],["is_blocked_content","is_blocked_content"],["click_id","click_id"]]),i=new Map([["videoURL","video_url"],["videoLength","video_length"],["reportTimeFrame","play_time_from_last_event"],["mako_originalTimeStamp","original_timestamp"],["bitrate","bitrate"],["mako_video_state","player_state"]]),a=new Map([["mako","2Y9A7B8T-mako12-474BC-web2H1C15GE9MA"],["n12","89V4BYT2-news12-474BC-web1J1C14GE9NE"],["tech12","8V4YB75T-tech12-474BC-web0K1C12GE9TE"]]);e.exports={playMap:i,pageViewMap:o,commonMap:n,appIdsMap:a}},function(e,t,n){e.exports=function(e){const t=e.target.closest("a");if(!t){return void n(6)(e)}const o=t.href.includes("sharer.php")||t.href.includes("mailto:")||t.href.includes("whatsapp:"),i=e.target.closest("[data-domo-click]");if(t.onclick||o||!i)return;e.preventDefault();const{setCookie:a}=n(0),{generateClickId:c}=n(1),r=JSON.parse(i.dataset.domoClick),d=i.dataset.teaserLocation,l=i.closest("[data-ordering-location]");if(l&&(r.component_location=parseInt(l.dataset.orderingLocation)),d&&(r.teaser_location=parseInt(d)),r.click_id=c(),r.clicked_item_url=t.href,window.domoPageView){const e=JSON.parse(domoPageView);r.content_type=e.content_type,r.channel_id=e.channel_id,r.item_id=e.item_id,r.channel_depth=e.channel_depth}else r.content_type=contentType,r.channel_id=currentChannelId,r.item_id=vcmidOfContent;let s=new URL(t.href);linkDomain=s.hostname;const _=domoBundle.getDomain();"mako"===_&&linkDomain.includes(_)?a("click_id",r.click_id,3e4,"."+_+".co.il"):s.searchParams.set("click_id",r.click_id),1!==e.button?"_blank"===t.target||e.ctrlKey||e.metaKey?window.open(s.toString()):r.clickCallback=()=>location.href=s.toString():t.href=s.toString(),domoBundle.init("click",r)}},function(e,t,n){e.exports=function(e){const t=e.target.id,o=e.target.closest("[data-domo-click]")||e.target.closest("[data-domo-"+t+"-click]");if(!o)return;const{generateClickId:i}=n(1),a=JSON.parse(o.dataset.domoClick||o.getAttribute("data-domo-"+t+"-click"));if(a.click_id=i(),window.domoPageView){const e=JSON.parse(domoPageView);a.content_type=e.content_type,a.channel_id=e.channel_id,a.item_id=e.item_id,a.channel_depth=e.channel_depth}else a.content_type=contentType,a.channel_id=currentChannelId,a.item_id=vcmidOfContent;domoBundle.init("click",a)}},function(e,t){const n=['[id^="CM8ShowAd_"]',"#app_banner-dfp","#DFP_TOPLAYER","#monster1_div","#ozen_div","#jambo_div","#poster_div"],o=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,i=e=>{const t=e.id||e.slot.getSlotElementId(),n={creative_advertiser_id:e.advertiserId?e.advertiserId.toString():null,campaign_id:e.campaignId?e.campaignId.toString():null,creative_id:e.creativeId?e.creativeId.toString():null,network:"dfp",type:"display",sub_type:t};if((e.isEmpty||e.size&&5===e.size[0]&&5===e.size[1])&&(n.error_code="1009"),window.domoPageView){const e=JSON.parse(domoPageView);n.content_type=e.content_type,n.channel_id=e.channel_id,n.item_id=e.item_id,n.channel_depth=e.channel_depth}if(DFP.refreshArray)for(let e=0;e<DFP.refreshArray.length;e++)if(DFP.refreshArray[e].getSlotElementId()===t){n.is_ad_refreshed=1;break}domoBundle.init("ads",n)};e.exports={handleAdEnded:e=>{const t=o(10,1e3),n=setTimeout(()=>{i(e),clearTimeout(n)},t)},getPageAdsState:e=>{if(!window.isCM8)return null;const t=document.querySelector("#maavaron-container"),o=t&&t.classList.contains("inline"),i="articleins"===window.contentType||"matconinsert"===window.contentType;(!i||i&&!o&&!document.querySelector("meta[name=shatap]")&&!document.querySelector("#mako-touch.FF-pic"))&&n.push("#MEDIUM_BANNER");let a=document.querySelectorAll(n.toString());return a=Array.from(a).filter((e,t,n)=>t===n.findIndex(t=>t.id===e.id)),a=a.filter(e=>!(i&&"CM8ShowAd_POSTER_300X600"===e.id||e.id.toUpperCase().includes("JAMBO")||e.id.toUpperCase().includes("OZEN")||e.id.toUpperCase().includes("BILLBOARD"))).map((t,n)=>({p_component_id:e&&e[t.id]?e[t.id].id:"unknown",p_component_location:n+1,p_component_type:"commercial"})),a.length?{items:a}:null},getRandomNumber:o}}]);