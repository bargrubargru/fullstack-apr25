(function(){OBR.clip=OBR.clip||function(){const a=k=>{k=k&&OBR.i.I(k);return k?(k=k.querySelectorAll(".ob-rec-video[ob-data-clip]"))&&k.length?Array.from(k):[]:[]},b=k=>{const m=k.element;m.addEventListener("click",g=>{m.paused?m.play():m.pause();g.stopPropagation();g.preventDefault();return!1})},c=k=>{k.element.addEventListener("ended",()=>{const m=k.element,g=k.ip;0<g-1&&(k.ip=g-1,m.play())})},d=k=>{const m=k.pE;k.element.addEventListener("ended",()=>{const g=k.element;if(0===k.ip-1){g.removeAttribute("controls");
k.nw=!0;m.style.display=null;const l=()=>{g.removeEventListener("play",l);k.nw=!1;m.style.display="none"};g.addEventListener("play",l)}})},e=k=>{const m=k.element;k.CK.addEventListener("click",g=>{m.play();g.stopPropagation();g.preventDefault();return!1})},f=({element:k})=>{k.autoplay&&(new OBR.IntersectionObserver({callback:m=>0<m.intersectionRatio?k.play():k.pause(),element:k,threshold:0,intersectPercentage:-1,unobserve:!1})).observe()};let h=!0;try{(h=(()=>{const k=document.createElement("video");
k.playsInline=!0;return"webkitSupportsPresentationMode"in k&&!k.webkitSupportsPresentationMode("inline")?!1:!0})())||OBR.error({name:"obm-fullscreenClip",message:"Inline playback is not supported."})}catch(k){}return k=>{var m=k.v();m=a(m);const g=k.l("clipPauseOnClick",!1);m.forEach(l=>{var p={element:l,pE:l.parentElement.querySelector(".ob-clip-end"),nw:!1,ip:l.hasAttribute("ob-data-loops")?+l.getAttribute("ob-data-loops"):1,CK:l.parentElement.querySelector(".ob-clip-replay")};g&&b(p);var r=p.element;
r=r.closest?r.closest("a"):void 0;r&&r.style&&"webkitTapHighlightColor"in r.style&&(r.style.webkitTapHighlightColor="transparent");c(p);d(p);e(p);if(h)f(p);else{l.autoplay=!1;l.pause();try{l.webkitExitFullscreen()}catch(q){}}})}}();OBR.s.V(OBR.s.A.Xk);}).call(window);
